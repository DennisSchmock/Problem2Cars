
<!DOCTYPE html>
<html ng-app="DemoApp" ng-controller="CarController as ctrl" >
    <head lang="en">
        <meta charset="UTF-8">
        <title>{{ctrl.title}}</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
        <script src="https://code.angularjs.org/1.4.7/i18n/angular-locale_da.js"></script>
        <script src="js/app.js"></script>
    </head>
    <body >
        <div class="container">

            <h1>{{ctrl.title}}</h1>
            <h2>Number of cars: {{ctrl.cars.lenght}}</h2>
            <input type="search" ng-model="carfilter" placeholder="Filter cars">


            <div>
                <div class="col-md-8">
                    <table class="table">
                        <thead >
                            <tr>
                                <td>ID</td>
                                <td><a href="" ng-click="ctrl.predicate = 'year'; ctrl.reverse = !ctrl.reverse">Year</a></td>
                                <td><a href="" ng-click="ctrl.predicate = 'registered'; ctrl.reverse = !ctrl.reverse">Registered</a></td>
                                <td><a href="" ng-click="ctrl.predicate = 'make'; ctrl.reverse = !ctrl.reverse">Make</a></td>
                                <td><a href="" ng-click="ctrl.predicate = 'model'; ctrl.reverse = !ctrl.reverse">Model</a></td>
                                <td><a href="" ng-click="ctrl.predicate = 'description'; ctrl.reverse = !ctrl.reverse">Description</a></td>
                                <td><a href="" ng-click="ctrl.predicate = 'price'; ctrl.reverse = !ctrl.reverse">Price</a></td>
                                <td><a>Action</a></td>
                            </tr>
                        </thead>

                        <tbody>
                            <tr  ng-repeat="car in ctrl.cars| filter: carfilter | orderBy:ctrl.predicate:ctrl.reverse">
                                <td>{{car.id}}</td>
                                <td>{{car.year}}</td>
                                <td>{{car.registered| date }}</td>
                                <td>{{car.make}}</td>
                                <td>{{car.model}}</td>
                                <td>{{car.description}}</td>
                                <td>{{car.price| currency}}</td>
                                <td>
                                    <a  ng-click="ctrl.edit(car.id)">edit</a> |
                                    <a  ng-click="ctrl.delete(car.id)">delete</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <h4>Sort Column: {{ctrl.predicate}}</h4>
                    <h4>Reverse: {{ctrl.reverse}}</h4>
                </div>

                <div class="col-md-4" style="border: thin lightblue solid; border-radius: 5px;padding: 1em;">
                    <form class="form-horizontal">
                        <label class="col-md-5">Year</label><div class="col-sm-7"><input class="input" ng-keypress="" ng-model="ctrl.newCar.year"></div>
                        <label class="col-md-5">Registered</label><div class="col-sm-7"><input type="date" class="input" ng-model="ctrl.newCar.registered"></div>
                        <label class="col-md-5">Make</label><div  class="col-sm-7"><input class="input" ng-model="ctrl.newCar.make"></div>
                        <label class="col-md-5">Model</label><div  class="col-sm-7"><input class="input" ng-model="ctrl.newCar.model"></div>
                        <label class="col-md-5">Description</label><div  class="col-sm-7"><input class="input" ng-model="ctrl.newCar.description"></div>
                        <label class="col-md-5">Price</label><div  class="col-sm-7"><input class="input" ng-model="ctrl.newCar.price"></div>
                        <div class="col-sm-12"><input type="button" value="Save" ng-click="ctrl.save()" /></div>

                    </form>
                </div>
            </div>
        </div>
    </body>
</html>